(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{688:function(t,e,r){"use strict";r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return d}));var n=r(911),o=r(701),i=r(693);function a(){return(a=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var s=.25,c={LAT_MAX:90,LAT_MIN:-90,LNG_MAX:180,LNG_MIN:-180};function u(t){var e=o.extent(t,(function(t){return t[1]})),r=o.extent(t,(function(t){return t[0]})),n=e[0]===e[1]?function(t){return[t[0]-s<c.LAT_MIN?c.LAT_MIN:t[0]-s,t[1]+s>c.LAT_MAX?c.LAT_MAX:t[1]+s]}(e):e,i=r[0]===r[1]?function(t){return[t[0]-s<c.LNG_MIN?c.LNG_MIN:t[0]-s,t[1]+s>c.LNG_MAX?c.LNG_MAX:t[1]+s]}(r):r;return[[i[0],n[0]],[i[1],n[1]]]}function p(t,e,r){void 0===r&&(r=10);try{var o=u(e);return a({},t,{},Object(n.a)({bounds:o,height:t.height,padding:r,width:t.width}))}catch(e){return console.error("Could not auto zoom",e),t}}function l(t,e,r,n){var o,a,s=t,c=r;return s.js_tooltip&&(c=Object(i.a)(s.js_tooltip)),c&&(o=function(t){t.picked?e({content:c(t),x:t.x,y:t.y+30}):e(null)}),s.js_onclick_href?a=function(t){var e=Object(i.a)(s.js_onclick_href)(t);window.open(e)}:s.table_filter&&void 0!==n&&(a=function(t){return n(t.object[s.line_column])}),{onClick:a,onHover:o,pickable:!!o}}var f={p1:.01,p5:.05,p95:.95,p99:.99};function d(t,e){return void 0===t&&(t="sum"),void 0===e&&(e=null),"count"===t?function(t){return t.length}:(r=t in f?function(r,n){var i;return i=e?r.sort((function(t,r){return o.ascending(e(t),e(r))})):r.sort(o.ascending),o.quantile(i,f[t],n)}:o[t],e?function(t){return r(t.map(e))}:function(t){return r(t)});var r}},693:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(769),o=r.n(n),i=r(770),a=r.n(i),s=r(701),c=r(702);function u(){return(u=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var p={console:console,_:a.a,colors:c,d3array:s};function l(t,e,r){var n={},i="SAFE_EVAL_"+Math.floor(1e6*Math.random());n[i]={};var a=u({},p,{},e);Object.keys(a).forEach((function(t){n[t]=a[t]}));try{return o.a.runInNewContext(i+"="+t,n,r),n[i]}catch(t){return function(){return t}}}},700:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(0),o=r.n(n),i=r(2),a=r.n(i);var s={label:a.a.string.isRequired,value:a.a.string.isRequired},c=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.render=function(){var t=this.props,e=t.label,r=t.value;return o.a.createElement("div",null,e,o.a.createElement("strong",null,r))},e}(o.a.PureComponent);c.propTypes=s},702:function(t,e,r){"use strict";r.r(e),r.d(e,"hexToRGB",(function(){return o}));var n=r(18);function o(t,e){if(void 0===e&&(e=255),!t)return[0,0,0,e];var r=Object(n.f)(t);return[r.r,r.g,r.b,e]}},705:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r(0),o=r.n(n),i=r(2),a=r.n(i),s=r(791),c=r(699),u=(r(773),r(713));r(736);function p(){return(p=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f=2e3,d={viewport:a.a.object.isRequired,layers:a.a.array.isRequired,setControlValue:a.a.func,mapStyle:a.a.string,mapboxApiAccessToken:a.a.string.isRequired,onViewportChange:a.a.func},h=function(t){function e(e){var r;return(r=t.call(this,e)||this).tick=r.tick.bind(l(r)),r.onViewportChange=r.onViewportChange.bind(l(r)),r.state={previousViewport:e.viewport,timer:setInterval(r.tick,f)},r}(function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e})(e,t),e.getDerivedStateFromProps=function(t,e){return t.viewport===e.viewport?null:{viewport:p({},t.viewport),previousViewport:e.viewport}};var r=e.prototype;return r.componentWillUnmount=function(){clearInterval(this.state.timer)},r.onViewportChange=function(t){var e=Object.assign({},t),r=p({},this.state.previousViewport,{},e);this.props.onViewportChange(r)},r.tick=function(){var t=this;if(this.state&&!Object(u.isEqual)(this.state.previousViewport,this.props.viewport)){var e=this.props.setControlValue,r=this.props.viewport;e&&e("viewport",r),this.setState((function(){return{previousViewport:t.props.viewport}}))}},r.layers=function(){return this.props.layers.some((function(t){return"function"==typeof t}))?this.props.layers.map((function(t){return"function"==typeof t?t():t})):this.props.layers},r.render=function(){var t=this.props.viewport;return o.a.createElement(s.a,p({},t,{mapStyle:this.props.mapStyle,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiAccessToken}),o.a.createElement(c.i,p({},t,{layers:this.layers(),initWebGLParameters:!0})))},e}(o.a.Component);h.propTypes=d,h.defaultProps={mapStyle:"light",onViewportChange:function(){},setControlValue:function(){}}},736:function(t,e,r){var n=r(737);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(334)(n,o);n.locals&&(t.exports=n.locals)},737:function(t,e,r){(t.exports=r(333)(!1)).push([t.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n .deckgl-tooltip > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n',""])},760:function(t,e){},762:function(t,e){},763:function(t,e){},836:function(t,e,r){"use strict";r.r(e),r.d(e,"getLayer",(function(){return g}));var n=r(0),o=r.n(n),i=r(2),a=r.n(i),s=r(699),c=r(705),u=r(702),p=r(693),l=r(688),f=r(700);function d(){return(d=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}var h,v={fillColor:"fillColor",color:"fillColor",fill:"fillColor","fill-color":"fillColor",strokeColor:"strokeColor","stroke-color":"strokeColor","stroke-width":"strokeWidth"},y=function(t,e){var r={};return Object.keys(t).forEach((function(e){e in v?r[v[e]]=t[e]:r[e]=t[e]})),"string"==typeof t.fillColor&&(r.fillColor=Object(u.hexToRGB)(t.fillColor)),"string"==typeof t.strokeColor&&(r.strokeColor=Object(u.hexToRGB)(t.strokeColor)),d({},r,{},e)},b=function(t,e,r){if(t&&t.features&&t.features.forEach((function(n){b(n,e,t.extraProps||r)})),t&&t.geometry){var n=d({},t,{properties:y(t.properties,e)});n.extraProps||(n.extraProps=r),h.push(n)}};function w(t){return t.object.extraProps&&o.a.createElement("div",{className:"deckgl-tooltip"},Object.keys(t.object.extraProps).map((function(e,r){return o.a.createElement(f.a,{key:"prop-"+r,label:e+": ",value:""+t.object.extraProps[e]})})))}function g(t,e,r,n){var o,i=t,a=i.fill_color_picker,c=i.stroke_color_picker,u=[a.r,a.g,a.b,255*a.a],f=[c.r,c.g,c.b,255*c.a],v={};return 0<u[3]&&(v.fillColor=u),0<f[3]&&(v.strokeColor=f),h=[],b(e.data,v),i.js_data_mutator&&(o=Object(p.a)(i.js_data_mutator),h=o(h)),new s.b(d({id:"geojson-layer-"+i.slice_id,filled:i.filled,data:h,stroked:i.stroked,extruded:i.extruded,pointRadiusScale:i.point_radius_scale},Object(l.a)(i,n,w)))}var m={formData:a.a.object.isRequired,payload:a.a.object.isRequired,setControlValue:a.a.func.isRequired,viewport:a.a.object.isRequired,onAddFilter:a.a.func,setTooltip:a.a.func};function _(t){var e=t.formData,r=t.payload,n=t.setControlValue,i=(t.onAddFilter,t.setTooltip),a=t.viewport,s=g(e,r,0,i);return o.a.createElement(c.a,{mapboxApiAccessToken:r.data.mapboxApiKey,viewport:a,layers:[s],mapStyle:e.mapbox_style,setControlValue:n})}_.propTypes=m,_.defaultProps={onAddFilter:function(){},setTooltip:function(){}},e.default=_}}]);