(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1001:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i(894),r=i(895),o=i(897),a=i(896),s=i(909),l=i(898),c=i(983),u=i(960),d=i(1250),h=i(1093),p=i(1026),f=d.a.fp64LowPart,g=[0,0,0,255],m={radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,fp64:!1,filled:!0,getPosition:{type:"accessor",value:function(t){return t.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:g},getLineColor:{type:"accessor",value:g},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},b=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(r.a)(e,[{key:"getShaders",value:function(t){return{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  float outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  unitPosition = positions.xy;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, offset);\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity) / 255.;\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity) / 255.;\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  } \n  if (distToCenter > innerUnitRadius) {\n    gl_FragColor = vLineColor;\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:4,transition:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(t){var i=t.props,n=t.oldProps,r=t.changeFlags;if(Object(s.a)(Object(a.a)(e.prototype),"updateState",this).call(this,{props:i,oldProps:n,changeFlags:r}),i.fp64!==n.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(t){var e=t.uniforms,i=this.context.viewport,n=this.props,r=n.radiusScale,o=n.radiusMinPixels,a=n.radiusMaxPixels,s=n.stroked,l=n.filled,c=n.lineWidthUnits,u=n.lineWidthScale,d=n.lineWidthMinPixels,h=n.lineWidthMaxPixels,p="pixels"===c?i.distanceScales.metersPerPixel[2]:1;this.state.model.setUniforms(Object.assign({},e,{stroked:s?1:0,filled:l,radiusScale:r,radiusMinPixels:o,radiusMaxPixels:a,lineWidthScale:u*p,lineWidthMinPixels:d,lineWidthMaxPixels:h})).draw()}},{key:"_getModel",value:function(t){return new h.a(t,Object.assign(this.getShaders(),{id:this.props.id,geometry:new p.a({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function(t,e){var i=e.startRow,n=e.endRow,r=this.use64bitPositions();if(t.constant=!r,r){var o=this.props,a=o.data,s=o.getPosition,l=t.value,u=i*t.size,d=Object(c.a)(a,i,n),h=d.iterable,p=d.objectInfo,g=!0,m=!1,b=void 0;try{for(var v,y=h[Symbol.iterator]();!(g=(v=y.next()).done);g=!0){var _=v.value;p.index++;var C=s(_,p);l[u++]=f(C[0]),l[u++]=f(C[1])}}catch(t){m=!0,b=t}finally{try{g||null==y.return||y.return()}finally{if(m)throw b}}}else t.value=new Float32Array(2)}}]),e}(u.a);b.layerName="ScatterplotLayer",b.defaultProps=m},1034:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={};i.r(n),i.d(n,"default",(function(){return p})),i.d(n,"DEFAULT_NAMESPACE",(function(){return g})),i.d(n,"getNamespace",(function(){return m})),i.d(n,"getColor",(function(){return b})),i.d(n,"getScale",(function(){return v}));var r=i(132),o=i(884);function a(t){return String(t).trim()}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class c extends o.a{constructor(t,e){super(t=>this.getColor(t)),l(this,"colors",void 0),l(this,"scale",void 0),l(this,"parentForcedColors",void 0),l(this,"forcedColors",void 0),this.colors=t,this.scale=Object(r.a)(),this.scale.range(t),this.parentForcedColors=e,this.forcedColors={}}getColor(t){const e=a(t),i=this.parentForcedColors&&this.parentForcedColors[e];if(i)return i;const n=this.forcedColors[e];return n||this.scale(e)}setColor(t,e){return this.forcedColors[a(t)]=e,this}getColorMap(){const t={};return this.scale.domain().forEach(e=>{t[e.toString()]=this.scale(e)}),s({},t,{},this.forcedColors,{},this.parentForcedColors)}copy(){const t=new c(this.scale.range(),this.parentForcedColors);return t.forcedColors=s({},this.forcedColors),t.domain(this.domain()),t.unknown(this.unknown()),t}domain(t){return void 0===t?this.scale.domain():(this.scale.domain(t),this)}range(t){return void 0===t?this.scale.range():(this.colors=t,this.scale.range(t),this)}unknown(t){return void 0===t?this.scale.unknown():(this.scale.unknown(t),this)}}var u=c,d=i(438);function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class p{constructor(t){h(this,"name",void 0),h(this,"forcedItems",void 0),h(this,"scales",void 0),this.name=t,this.scales={},this.forcedItems={}}getScale(t){var e,i;const n=null!=(e=null!=t?t:Object(d.a)().getDefaultKey())?e:"",r=this.scales[n];if(r)return r;const o=Object(d.a)().get(n),a=new u(null!=(i=null==o?void 0:o.colors)?i:[],this.forcedItems);return this.scales[n]=a,a}setColor(t,e){return this.forcedItems[a(t)]=e,this}}const f={},g="GLOBAL";function m(t=g){const e=f[t];if(e)return e;const i=new p(t);return f[t]=i,i}function b(t,e,i){return m(i).getScale(e).getColor(t)}function v(t,e){return m(e).getScale(t)}},1102:function(t,e,i){"use strict";i.r(e),i.d(e,"getLayer",(function(){return d}));var n=i(1001),r=i(1),o=i.n(r),a=i(874),s=i(913),l=i(923),c=i(915);function u(t){return e=>o.a.createElement("div",{className:"deckgl-tooltip"},o.a.createElement(c.a,{label:Object(a.b)("Longitude and Latitude")+": ",value:e.object.position[0]+", "+e.object.position[1]}),e.object.cat_color&&o.a.createElement(c.a,{label:Object(a.b)("Category")+": ",value:""+e.object.cat_color}),e.object.metric&&o.a.createElement(c.a,{label:t.point_radius_fixed.value.label+": ",value:""+e.object.metric}))}function d(t,e,i,r){const o=t,a=e.data.features.map(t=>{let e=(i=o.point_unit,n=t.radius,("square_m"===i?Math.sqrt(n/Math.PI):"radius_m"===i?n:"radius_km"===i?1e3*n:"radius_miles"===i?1609.34*n:"square_km"===i?1e3*Math.sqrt(n/Math.PI):"square_miles"===i?1609.34*Math.sqrt(n/Math.PI):null)||10);var i,n;if(o.multiplier&&(e*=o.multiplier),t.color)return{...t,radius:e};const r=o.color_picker||{r:0,g:0,b:0,a:1},a=[r.r,r.g,r.b,255*r.a];return{...t,radius:e,color:a}});return new n.a({id:"scatter-layer-"+o.slice_id,data:a,fp64:!0,getFillColor:t=>t.color,getRadius:t=>t.radius,radiusMinPixels:o.min_radius||null,radiusMaxPixels:o.max_radius||null,stroked:!1,...Object(s.a)(o,r,u(o))})}e.default=Object(l.a)(d,(function(t){return t.map(t=>t.position)}))},910:function(t,e,i){"use strict";function n(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}i.d(e,"b",(function(){return n})),e.a=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}},922:function(t,e,i){"use strict";var n=i(910);e.a=function(t){return(t=Object(n.b)(Math.abs(t)))?t[1]:NaN}},923:function(t,e,i){"use strict";i.d(e,"b",(function(){return x})),i.d(e,"a",(function(){return P}));var n=i(1),r=i.n(n),o=i(0),a=i.n(o),s=i(271),l=i(921),c=i(1034),u=i(930),d=i(924),h=i(916),p=i(928),f=i(905),g=i(919);function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const{getScale:b}=c.a;const v={formData:a.a.object.isRequired,mapboxApiKey:a.a.string.isRequired,setControlValue:a.a.func.isRequired,viewport:a.a.object.isRequired,getLayer:a.a.func.isRequired,getPoints:a.a.func.isRequired,payload:a.a.object.isRequired,onAddFilter:a.a.func,width:a.a.number.isRequired,height:a.a.number.isRequired};class y extends r.a.PureComponent{constructor(t){super(t),m(this,"containerRef",r.a.createRef()),m(this,"setTooltip",t=>{const{current:e}=this.containerRef;e&&e.setTooltip(t)}),this.state=this.getStateFromProps(t),this.getLayers=this.getLayers.bind(this),this.onValuesChange=this.onValuesChange.bind(this),this.toggleCategory=this.toggleCategory.bind(this),this.showSingleCategory=this.showSingleCategory.bind(this)}UNSAFE_componentWillReceiveProps(t){t.payload.form_data!==this.state.formData&&this.setState({...this.getStateFromProps(t)})}onValuesChange(t){this.setState({values:Array.isArray(t)?t:[t,t+this.state.getStep(t)]})}getStateFromProps(t,e){const i=t.payload.data.features||[],n=i.map(t=>t.__timestamp),r=function(t,e){const i=t.color_picker||{r:0,g:0,b:0,a:1},n=[i.r,i.g,i.b,255*i.a],r=b(t.color_scheme),o={};return e.forEach(e=>{if(null!=e.cat_color&&!o.hasOwnProperty(e.cat_color)){let a;a=t.dimension?Object(h.hexToRGB)(r(e.cat_color),255*i.a):n,o[e.cat_color]={color:a,enabled:!0}}}),o}(t.formData,i);if(e&&t.payload.form_data===e.formData)return{...e,categories:r};const o=t.payload.form_data.time_grain_sqla||t.payload.form_data.granularity||"P1D",{start:a,end:s,getStep:l,values:c,disabled:u}=Object(p.a)(n,o),{width:d,height:f,formData:m}=t;let{viewport:v}=t;return m.autozoom&&(v=Object(g.a)(v,{width:d,height:f,points:t.getPoints(i)})),{start:a,end:s,getStep:l,values:c,disabled:u,viewport:v,selected:[],lastClick:0,formData:t.payload.form_data,categories:r}}getLayers(t){const{getLayer:e,payload:i,formData:n,onAddFilter:r}=this.props;let o=i.data.features?[...i.data.features]:[];if(o=this.addColor(o,n),n.js_data_mutator){o=Object(f.a)(n.js_data_mutator)(o)}o=t[0]===t[1]||t[1]===this.end?o.filter(e=>e.__timestamp>=t[0]&&e.__timestamp<=t[1]):o.filter(e=>e.__timestamp>=t[0]&&e.__timestamp<t[1]);const a=this.state.categories;n.dimension&&(o=o.filter(t=>a[t.cat_color]&&a[t.cat_color].enabled));return[e(n,{...i,data:{...i.data,features:o}},r,this.setTooltip)]}addColor(t,e){const i=e.color_picker||{r:0,g:0,b:0,a:1},n=b(e.color_scheme);return t.map(t=>{let r;return e.dimension?(r=Object(h.hexToRGB)(n(t.cat_color),255*i.a),{...t,color:r}):t})}toggleCategory(t){const e=this.state.categories[t],i={...this.state.categories,[t]:{...e,enabled:!e.enabled}};Object.values(i).every(t=>!t.enabled)&&Object.values(i).forEach(t=>{t.enabled=!0}),this.setState({categories:i})}showSingleCategory(t){const e={...this.state.categories};Object.values(e).forEach(t=>{t.enabled=!1}),e[t].enabled=!0,this.setState({categories:e})}render(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(u.a,{ref:this.containerRef,getLayers:this.getLayers,start:this.state.start,end:this.state.end,getStep:this.state.getStep,values:this.state.values,disabled:this.state.disabled,viewport:this.state.viewport,mapboxApiAccessToken:this.props.mapboxApiKey,mapStyle:this.props.formData.mapbox_style,setControlValue:this.props.setControlValue,width:this.props.width,height:this.props.height},r.a.createElement(d.a,{categories:this.state.categories,toggleCategory:this.toggleCategory,showSingleCategory:this.showSingleCategory,position:this.props.formData.legend_position,format:this.props.formData.legend_format})))}}function _(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}y.propTypes=v;const C={formData:a.a.object.isRequired,payload:a.a.object.isRequired,setControlValue:a.a.func.isRequired,viewport:a.a.object.isRequired,onAddFilter:a.a.func,width:a.a.number.isRequired,height:a.a.number.isRequired},w={onAddFilter(){}};function x(t,e){class i extends r.a.PureComponent{constructor(t){super(t),_(this,"containerRef",r.a.createRef()),_(this,"setTooltip",t=>{const{current:e}=this.containerRef;e&&e.setTooltip(t)});const{width:i,height:n,formData:o}=t;let{viewport:a}=t;o.autozoom&&(a=Object(g.a)(a,{width:i,height:n,points:e(t.payload.data.features)})),this.state={viewport:a,layer:this.computeLayer(t)},this.onViewportChange=this.onViewportChange.bind(this)}UNSAFE_componentWillReceiveProps(t){const e={...t.formData,viewport:null},i={...this.props.formData,viewport:null};Object(s.isEqual)(e,i)&&t.payload===this.props.payload||this.setState({layer:this.computeLayer(t)})}onViewportChange(t){this.setState({viewport:t})}computeLayer(e){const{formData:i,payload:n,onAddFilter:r}=e;return t(i,n,r,this.setTooltip)}render(){const{formData:t,payload:e,setControlValue:i,height:n,width:o}=this.props,{layer:a,viewport:s}=this.state;return r.a.createElement(l.a,{ref:this.containerRef,mapboxApiAccessToken:e.data.mapboxApiKey,viewport:s,layers:[a],mapStyle:t.mapbox_style,setControlValue:i,width:o,height:n,onViewportChange:this.onViewportChange})}}return i.propTypes=C,i.defaultProps=w,i}function P(t,e){function i(i){const{formData:n,payload:o,setControlValue:a,viewport:s,width:l,height:c}=i;return r.a.createElement(y,{formData:n,mapboxApiKey:o.data.mapboxApiKey,setControlValue:a,viewport:s,getLayer:t,payload:o,getPoints:e,width:l,height:c})}return i.propTypes=C,i.defaultProps=w,i}},924:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i(1),r=i.n(n),o=i(0),a=i.n(o),s=i(999);i(926);const l={categories:a.a.object,toggleCategory:a.a.func,showSingleCategory:a.a.func,format:a.a.string,position:a.a.oneOf([null,"tl","tr","bl","br"])};class c extends r.a.PureComponent{format(t){if(!this.props.format)return t;const e=parseFloat(t);return Object(s.a)(this.props.format,e)}formatCategoryLabel(t){if(!this.props.format)return t;if(t.includes(" - ")){const e=t.split(" - ");return this.format(e[0])+" - "+this.format(e[1])}return this.format(t)}render(){if(0===Object.keys(this.props.categories).length||null===this.props.position)return null;const t=Object.entries(this.props.categories).map(([t,e])=>{const i={color:"rgba("+e.color.join(", ")+")"},n=e.enabled?"◼":"◻";return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#",onClick:()=>this.props.toggleCategory(t),onDoubleClick:()=>this.props.showSingleCategory(t)},r.a.createElement("span",{style:i},n)," ",this.formatCategoryLabel(t)))}),e={position:"absolute",["t"===this.props.position.charAt(0)?"top":"bottom"]:"0px",["r"===this.props.position.charAt(1)?"right":"left"]:"10px"};return r.a.createElement("div",{className:"legend",style:e},r.a.createElement("ul",{className:"categories"},t))}}c.propTypes=l,c.defaultProps={categories:{},toggleCategory:()=>{},showSingleCategory:()=>{},format:null,position:"tr"}},926:function(t,e,i){var n=i(436),r=i(927);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);t.exports=r.locals||{}},927:function(t,e,i){(e=i(437)(!1)).push([t.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\ndiv.legend {\n  font-size: 90%;\n  position: absolute;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  margin: 24px;\n  padding: 12px 20px;\n  outline: none;\n  overflow-y: scroll;\n  max-height: 200px;\n}\n\nul.categories {\n  list-style: none;\n  padding-left: 0;\n  margin: 0;\n}\n\nul.categories li a {\n  color: rgb(51, 51, 51);\n  text-decoration: none;\n}\n\nul.categories li a span {\n  margin-right: 10px;\n}\n',""]),t.exports=e},940:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(t){if(!(e=n.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}r.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},941:function(t,e,i){"use strict";var n,r=i(922),o=i(940),a=i(910),s=function(t,e){var i=Object(a.b)(t,e);if(!i)return t+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")},l={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:a.a,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return s(100*t,e)},r:s,s:function(t,e){var i=Object(a.b)(t,e);if(!i)return t+"";var r=i[0],o=i[1],s=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Object(a.b)(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},c=function(t){return t},u=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e,i,a=void 0===t.grouping||void 0===t.thousands?c:(e=u.call(t.grouping,Number),i=t.thousands+"",function(t,n){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(i)}),s=void 0===t.currency?"":t.currency[0]+"",h=void 0===t.currency?"":t.currency[1]+"",p=void 0===t.decimal?".":t.decimal+"",f=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(u.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",m=void 0===t.minus?"-":t.minus+"",b=void 0===t.nan?"NaN":t.nan+"";function v(t){var e=(t=Object(o.a)(t)).fill,i=t.align,r=t.sign,c=t.symbol,u=t.zero,v=t.width,y=t.comma,_=t.precision,C=t.trim,w=t.type;"n"===w?(y=!0,w="g"):l[w]||(void 0===_&&(_=12),C=!0,w="g"),(u||"0"===e&&"="===i)&&(u=!0,e="0",i="=");var x="$"===c?s:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P="$"===c?h:/[%p]/.test(w)?g:"",S=l[w],O=/[defgprs%]/.test(w);function E(t){var o,s,l,c=x,h=P;if("c"===w)h=S(t)+h,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?b:S(Math.abs(t),_),C&&(t=function(t){t:for(var e,i=t.length,n=1,r=-1;n<i;++n)switch(t[n]){case".":r=e=n;break;case"0":0===r&&(r=n),e=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),g&&0==+t&&"+"!==r&&(g=!1),c=(g?"("===r?r:m:"-"===r||"("===r?"":r)+c,h=("s"===w?d[8+n/3]:"")+h+(g&&"("===r?")":""),O)for(o=-1,s=t.length;++o<s;)if(48>(l=t.charCodeAt(o))||l>57){h=(46===l?p+t.slice(o+1):t.slice(o))+h,t=t.slice(0,o);break}}y&&!u&&(t=a(t,1/0));var E=c.length+t.length+h.length,N=E<v?new Array(v-E+1).join(e):"";switch(y&&u&&(t=a(N+t,N.length?v-h.length:1/0),N=""),i){case"<":t=c+t+h+N;break;case"=":t=c+N+t+h;break;case"^":t=N.slice(0,E=N.length>>1)+c+t+h+N.slice(E);break;default:t=N+c+t+h}return f(t)}return _=void 0===_?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),E.toString=function(){return t+""},E}return{format:v,formatPrefix:function(t,e){var i=v(((t=Object(o.a)(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3))),a=Math.pow(10,-n),s=d[8+n/3];return function(t){return i(a*t)+s}}}}},993:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var n,r,o,a,s=i(941);a={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"},n=Object(s.a)(a),r=n.format,o=n.formatPrefix},999:function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n=i(105),r=i(872),o=i(36),a=i(993),s=i(941),l=i(882),c=i(884);function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class d extends c.a{constructor(t){super(t=>this.format(t)),u(this,"id",void 0),u(this,"label",void 0),u(this,"description",void 0),u(this,"formatFunc",void 0),u(this,"isInvalid",void 0);const{id:e=Object(l.a)("config.id"),label:i,description:n="",formatFunc:r=Object(l.a)("config.formatFunc"),isInvalid:o=!1}=t;this.id=e,this.label=null!=i?i:e,this.description=n,this.formatFunc=r,this.isInvalid=o}format(t){return null==t||Number.isNaN(t)?""+t:t===Number.POSITIVE_INFINITY?"∞":t===Number.NEGATIVE_INFINITY?"-∞":this.formatFunc(t)}preview(t=12345.432){return t+" => "+this.format(t)}}var h=d;var p={DOLLAR:"$,.2f",DOLLAR_ROUND:"$,d",DOLLAR_ROUND_SIGNED:"+$,d",DOLLAR_SIGNED:"+$,.2f",FLOAT:",.2f",FLOAT_1_POINT:",.1f",FLOAT_2_POINT:",.2f",FLOAT_3_POINT:",.3f",FLOAT_SIGNED:"+,.2f",FLOAT_SIGNED_1_POINT:"+,.1f",FLOAT_SIGNED_2_POINT:"+,.2f",FLOAT_SIGNED_3_POINT:"+,.3f",INTEGER:",d",INTEGER_SIGNED:"+,d",PERCENT:",.2%",PERCENT_1_POINT:",.1%",PERCENT_2_POINT:",.2%",PERCENT_3_POINT:",.3%",PERCENT_SIGNED:"+,.2%",PERCENT_SIGNED_1_POINT:"+,.1%",PERCENT_SIGNED_2_POINT:"+,.2%",PERCENT_SIGNED_3_POINT:"+,.3%",SI:".3s",SI_1_DIGIT:".1s",SI_2_DIGIT:".2s",SI_3_DIGIT:".3s",SMART_NUMBER:"SMART_NUMBER",SMART_NUMBER_SIGNED:"SMART_NUMBER_SIGNED"};const f=Object(a.a)(".3~s"),g=Object(a.a)(".2~f"),m=Object(a.a)(".4~f");function b(t={}){const{description:e,signed:i=!1,id:n,label:r}=t,o=i?t=>t>0?"+":"":()=>"";return new h({description:e,formatFunc:t=>""+o(t)+function(t){if(0===t)return"0";const e=Math.abs(t);return e>=1e3?f(t).replace("G","B"):e>=1?g(t):e>=.001?m(t):e>1e-6?f(1e6*t)+"µ":f(t)}(t),id:n||i?p.SMART_NUMBER_SIGNED:p.SMART_NUMBER,label:null!=r?r:"Adaptive formatter"})}class v extends r.a{constructor(){super({name:"NumberFormatter",overwritePolicy:o.a.WARN}),this.registerValue(p.SMART_NUMBER,b()),this.registerValue(p.SMART_NUMBER_SIGNED,b({signed:!0})),this.setDefaultKey(p.SMART_NUMBER)}get(t){const e=(""+(null==t||""===t?this.defaultKey:t)).trim();if(this.has(e))return super.get(e);const i=function(t){const{description:e,formatString:i=Object(l.a)("config.formatString"),label:n,locale:r}=t;let o,c=!1;try{o=void 0===r?Object(a.a)(i):Object(s.a)(r).format(i)}catch(t){o=t=>t+" (Invalid format: "+i+")",c=!0}return new h({description:e,formatFunc:o,id:i,isInvalid:c,label:n})}({formatString:e});return this.registerValue(e,i),i}format(t,e){return this.get(t)(e)}}const y=Object(n.a)(v);function _(t,e){return y().format(t,e)}}}]);