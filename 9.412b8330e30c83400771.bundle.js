(window.webpackJsonp=window.webpackJsonp||[]).push([[9,2],{1103:function(e,t,n){"use strict";n.r(t),n.d(t,"getLayer",(function(){return E}));var i=n(1),r=n.n(i),a=n(0),o=n.n(a),s=n(1221),l=n(930),c=n(924),u=n(915),d=n(902),p=n(1032),h=n(269),f=n(439),m=n(916);function g({break_points:e,num_buckets:t},n,i){if(!n)return[];if(void 0===e||0===e.length){const e=t?parseInt(t,10):10,[r,a]=Object(d.extent)(n,i);if(void 0===r)return[];const o=(a-r)/e,s=0===o?0:Math.max(0,Math.ceil(Math.log10(1/o))),l=a>a.toFixed(s)?1:0;return new Array(e+1+l).fill().map((e,t)=>(r+t*o).toFixed(s))}return e.sort((e,t)=>parseFloat(e)-parseFloat(t))}function b({break_points:e,num_buckets:t,linear_color_scheme:n,opacity:i},r,a){const o=e||t?g({break_points:e,num_buckets:t},r,a):null,s=Array.isArray(n)?new h.a({colors:n,id:"custom"}):Object(f.a)().get(n);let l,c;if(null!==o){const e=o.length-1,t=e>1?s.getColors(e):[s.colors[s.colors.length-1]],n=t[0],i=t[t.length-1];t.unshift(n),t.push(i);const r=o.map(e=>parseFloat(e));l=Object(p.a)().domain(r).range(t),c=t=>t>o[e]||t<o[0]}else l=s.createLinearScale(Object(d.extent)(r,a)),c=()=>!1;return e=>{const t=a(e),n=Object(m.hexToRGB)(l(t));return c(t)?n[3]=0:n[3]=i/100*255,n}}var v=n(913),y=n(928),w=n(905);function S(e){return"geometry"in e.polygon?e.polygon.geometry.coordinates[0]:e.polygon}var _=n(919);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,i,a,o,l){const c=e,d=c.fill_color_picker,p=c.stroke_color_picker;let h=[...t.data.features];if(null!=l&&l.forEach(e=>{h=h.filter(t=>e(t))}),c.js_data_mutator){const e=Object(w.a)(c.js_data_mutator);h=e(h)}const f=c.metric?c.metric.label||c.metric:null,m=null===c.metric?()=>[d.r,d.g,d.b,255*d.a]:b(c,h,e=>e[f]),g=e=>{const t=m(e);return a.length>0&&!a.includes(e[c.line_column])&&(t[3]/=2),t},y=c.line_column&&c.metric&&["json","geohash","zipcode"].includes(c.line_type)?function(e){return t=>{const n=e.metric.label||e.metric;return r.a.createElement("div",{className:"deckgl-tooltip"},t.object.name&&r.a.createElement(u.a,{label:"name: ",value:""+t.object.name}),t.object[e.line_column]&&r.a.createElement(u.a,{label:e.line_column+": ",value:""+t.object[e.line_column]}),e.metric&&r.a.createElement(u.a,{label:n+": ",value:""+t.object[n]}))}}(c):void 0;return new s.a({id:"path-layer-"+c.slice_id,data:h,pickable:!0,filled:c.filled,stroked:c.stroked,getPolygon:S,getFillColor:g,getLineColor:[p.r,p.g,p.b,255*p.a],getLineWidth:c.line_width,extruded:c.extruded,getElevation:e=>function(e,t){return 0===t(e)[3]?0:e.elevation}(e,g),elevationScale:c.multiplier,fp64:!0,...Object(v.a)(c,i,y,o)})}const I={formData:o.a.object.isRequired,payload:o.a.object.isRequired,setControlValue:o.a.func.isRequired,viewport:o.a.object.isRequired,onAddFilter:o.a.func,width:o.a.number.isRequired,height:o.a.number.isRequired},O={onAddFilter(){}};class N extends r.a.Component{constructor(e){super(e),x(this,"containerRef",r.a.createRef()),x(this,"setTooltip",e=>{const{current:t}=this.containerRef;t&&t.setTooltip(e)}),this.state=N.getDerivedStateFromProps(e),this.getLayers=this.getLayers.bind(this),this.onSelect=this.onSelect.bind(this),this.onValuesChange=this.onValuesChange.bind(this)}static getDerivedStateFromProps(e,t){const{width:n,height:i,formData:r,payload:a}=e;if(t&&a.form_data===t.formData)return null;const o=a.data.features||[],s=o.map(e=>e.__timestamp),l=a.form_data.time_grain_sqla||a.form_data.granularity||"P1D",{start:c,end:u,getStep:d,values:p,disabled:h}=Object(y.a)(s,l);let{viewport:f}=e;return r.autozoom&&(f=Object(_.a)(f,{width:n,height:i,points:o.flatMap(S)})),{start:c,end:u,getStep:d,values:p,disabled:h,viewport:f,selected:[],lastClick:0,formData:a.form_data}}onSelect(e){const{formData:t,onAddFilter:n}=this.props,i=new Date,r=i-this.state.lastClick<=250,a=[...this.state.selected];if(r)a.splice(0,a.length,e);else if(t.toggle_polygons){const t=a.indexOf(e);-1===t?a.push(e):a.splice(t,1)}else a.splice(0,1,e);this.setState({selected:a,lastClick:i}),t.table_filter&&n(t.line_column,a,!1,!0)}onValuesChange(e){this.setState({values:Array.isArray(e)?e:[e,e+this.state.getStep(e)]})}getLayers(e){if(void 0===this.props.payload.data.features)return[];const t=[];e[0]===e[1]||e[1]===this.end?t.push(t=>t.__timestamp>=e[0]&&t.__timestamp<=e[1]):t.push(t=>t.__timestamp>=e[0]&&t.__timestamp<e[1]);return[E(this.props.formData,this.props.payload,this.props.onAddFilter,this.setTooltip,this.state.selected,this.onSelect,t)]}render(){const{payload:e,formData:t,setControlValue:n}=this.props,{start:i,end:a,getStep:o,values:s,disabled:u,viewport:d}=this.state,p=t,h=p.metric?p.metric.label||p.metric:null,f=function(e,t,n){const i=g(e,t,n),r=b(e,t,n),a={};return i.slice(1).forEach((t,n)=>{const o=i[n]+" - "+i[n+1],s=.5*(parseFloat(i[n])+parseFloat(i[n+1])),l=e.metric?e.metric.label||e.metric:null;a[o]={color:r({[l||e.metric]:s}),enabled:!0}}),a}(t,e.data.features,e=>e[h]);return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(l.a,{ref:this.containerRef,aggregation:!0,getLayers:this.getLayers,start:i,end:a,getStep:o,values:s,disabled:u,viewport:d,width:this.props.width,height:this.props.height,mapboxApiAccessToken:e.data.mapboxApiKey,mapStyle:t.mapbox_style,setControlValue:n,onValuesChange:this.onValuesChange,onViewportChange:this.onViewportChange},null!==t.metric&&r.a.createElement(c.a,{categories:f,position:t.legend_position,format:t.legend_format})))}}N.propTypes=I,N.defaultProps=O;t.default=N},905:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(965),r=n.n(i),a=n(973),o=n(902),s=n(916);const l={console:console,_:a.a,colors:s,d3array:o};function c(e,t,n){const i={},a="SAFE_EVAL_"+Math.floor(1e6*Math.random());i[a]={};const o=a+"="+e,s={...l,...t};Object.keys(s).forEach(e=>{i[e]=s[e]});try{return r.a.runInNewContext(o,i,n),i[a]}catch(e){return()=>e}}},910:function(e,t,n){"use strict";function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}n.d(t,"b",(function(){return i})),t.a=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}},913:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(902),r=n(905);function a(e,t,n,i){const a=e;let o,s,l=n;return a.js_tooltip&&(l=Object(r.a)(a.js_tooltip)),l&&(o=e=>{e.picked?t({content:l(e),x:e.x,y:e.y}):t(null)}),a.js_onclick_href?s=e=>{const t=Object(r.a)(a.js_onclick_href)(e);window.open(t)}:a.table_filter&&void 0!==i&&(s=e=>i(e.object[a.line_column])),{onClick:s,onHover:o,pickable:Boolean(o)}}const o={p1:.01,p5:.05,p95:.95,p99:.99};function s(e="sum",t=null){if("count"===e)return e=>e.length;let n;return n=e in o?(n,r)=>{let a;return a=t?n.sort((e,n)=>i.ascending(t(e),t(n))):n.sort(i.ascending),i.quantile(a,o[e],r)}:i[e],t?e=>n(e.map(e=>t(e))):e=>n(e)}},915:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),r=n.n(i),a=n(0),o=n.n(a);const s={label:o.a.string.isRequired,value:o.a.string.isRequired};class l extends r.a.PureComponent{render(){const{label:e,value:t}=this.props;return r.a.createElement("div",null,e,r.a.createElement("strong",null,t))}}l.propTypes=s},916:function(e,t,n){"use strict";n.r(t),n.d(t,"hexToRGB",(function(){return r}));var i=n(17);function r(e,t=255){if(!e)return[0,0,0,t];const{r:n,g:r,b:a}=Object(i.g)(e);return[n,r,a,t]}},919:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(998),r=n(902);const a=[-90,90],o=[-180,180];function s([e,t],[n,i],r=.25){return e<t?[e,t]:[Math.max(n,e-r),Math.min(i,t+r)]}function l(e,{points:t,width:n,height:l,minExtent:c,maxZoom:u,offset:d,padding:p=20}){const{bearing:h,pitch:f}=e,m=function(e){const t=s(Object(r.extent)(e,e=>e[1]),a),n=s(Object(r.extent)(e,e=>e[0]),o);return[[n[0],t[0]],[n[1],t[1]]]}(t);try{return{...Object(i.a)({bounds:m,width:n,height:l,minExtent:c,maxZoom:u,offset:d,padding:p}),bearing:h,pitch:f}}catch(e){console.error("Could not fit viewport",e)}return e}},921:function(e,t,n){"use strict";var i=n(1),r=n.n(i),a=n(0),o=n.n(a),s=n(974),l=n(1249),c=n(1245),u=n(966);function d(e){const{tooltip:t}=e;if(null==t)return null;const{x:n,y:a,content:o}=t,s=Object(i.useMemo)(()=>({position:"absolute",top:a+"px",left:n+"px",padding:"8px",margin:"8px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",maxWidth:"300px",fontSize:"12px",zIndex:9,pointerEvents:"none"}),[n,a]);if("string"==typeof o){const e=Object(i.useMemo)(()=>({__html:Object(u.filterXSS)(o,{stripIgnoreTag:!0})}),[o]);return r.a.createElement("div",{style:s},r.a.createElement("div",{dangerouslySetInnerHTML:e}))}return r.a.createElement("div",{style:s},o)}n(967),n(937);function p(){const e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n  .deckgl-tooltip > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);return p=function(){return e},e}const h={viewport:o.a.object.isRequired,layers:o.a.array.isRequired,setControlValue:o.a.func,mapStyle:o.a.string,mapboxApiAccessToken:o.a.string.isRequired,children:o.a.node,bottomMargin:o.a.number,width:o.a.number.isRequired,height:o.a.number.isRequired};class f extends r.a.Component{constructor(e){var t,n,i;super(e),i=e=>{this.setState({tooltip:e})},(n="setTooltip")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.tick=this.tick.bind(this),this.onViewStateChange=this.onViewStateChange.bind(this),this.state={timer:setInterval(this.tick,250),tooltip:null,viewState:e.viewport}}componentWillUnmount(){clearInterval(this.state.timer)}onViewStateChange({viewState:e}){this.setState({viewState:e,lastUpdate:Date.now()})}tick(){const{lastUpdate:e}=this.state;if(e&&Date.now()-e>250){const e=this.props.setControlValue;e&&e("viewport",this.state.viewState),this.setState({lastUpdate:null})}}layers(){return this.props.layers.some(e=>"function"==typeof e)?this.props.layers.map(e=>"function"==typeof e?e():e):this.props.layers}render(){const{children:e,bottomMargin:t,height:n,width:i}=this.props,{viewState:a,tooltip:o}=this.state,c=n-t,u=this.layers();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative",width:i,height:c}},r.a.createElement(l.a,{initWebGLParameters:!0,controller:!0,width:i,height:c,layers:u,viewState:a,onViewStateChange:this.onViewStateChange},r.a.createElement(s.a,{mapStyle:this.props.mapStyle,mapboxApiAccessToken:this.props.mapboxApiAccessToken})),e),r.a.createElement(d,{tooltip:o}))}}f.propTypes=h,f.defaultProps={mapStyle:"light",setControlValue:()=>{},children:null,bottomMargin:0};t.a=Object(c.a)(f)(p())},922:function(e,t,n){"use strict";var i=n(910);t.a=function(e){return(e=Object(i.b)(Math.abs(e)))?e[1]:NaN}},924:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(1),r=n.n(i),a=n(0),o=n.n(a),s=n(999);n(926);const l={categories:o.a.object,toggleCategory:o.a.func,showSingleCategory:o.a.func,format:o.a.string,position:o.a.oneOf([null,"tl","tr","bl","br"])};class c extends r.a.PureComponent{format(e){if(!this.props.format)return e;const t=parseFloat(e);return Object(s.a)(this.props.format,t)}formatCategoryLabel(e){if(!this.props.format)return e;if(e.includes(" - ")){const t=e.split(" - ");return this.format(t[0])+" - "+this.format(t[1])}return this.format(e)}render(){if(0===Object.keys(this.props.categories).length||null===this.props.position)return null;const e=Object.entries(this.props.categories).map(([e,t])=>{const n={color:"rgba("+t.color.join(", ")+")"},i=t.enabled?"◼":"◻";return r.a.createElement("li",{key:e},r.a.createElement("a",{href:"#",onClick:()=>this.props.toggleCategory(e),onDoubleClick:()=>this.props.showSingleCategory(e)},r.a.createElement("span",{style:n},i)," ",this.formatCategoryLabel(e)))}),t={position:"absolute",["t"===this.props.position.charAt(0)?"top":"bottom"]:"0px",["r"===this.props.position.charAt(1)?"right":"left"]:"10px"};return r.a.createElement("div",{className:"legend",style:t},r.a.createElement("ul",{className:"categories"},e))}}c.propTypes=l,c.defaultProps={categories:{},toggleCategory:()=>{},showSingleCategory:()=>{},format:null,position:"tr"}},926:function(e,t,n){var i=n(436),r=n(927);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a);e.exports=r.locals||{}},927:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\ndiv.legend {\n  font-size: 90%;\n  position: absolute;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  margin: 24px;\n  padding: 12px 20px;\n  outline: none;\n  overflow-y: scroll;\n  max-height: 200px;\n}\n\nul.categories {\n  list-style: none;\n  padding-left: 0;\n  margin: 0;\n}\n\nul.categories li a {\n  color: rgb(51, 51, 51);\n  text-decoration: none;\n}\n\nul.categories li a span {\n  margin-right: 10px;\n}\n',""]),e.exports=t},928:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(994),r=n.n(i);const a=[1,0,1,0,0,0,0];function o(e,t){const n=parseInt(r()(t).format("x"),10);return parseInt(r()(t).add(e).format("x"),10)-n}function s(e,t){const n=r()(Math.min(...e)),i=r()(Math.max(...e));let s,l,c;if(t.includes("/")){const e=t.split("/",2);e[0].endsWith("Z")?(l=r()(e[0]),s=r.a.duration(e[1])):(l=r()(e[1]),s=r.a.duration(e[0]))}else s=r.a.duration(t),l=function(e,t){const n=r()(e).subtract(t),i=e.toArray(),o=n.toArray(),s=i.map((e,t)=>o[t]!==e).indexOf(!0),l=i.map((e,t)=>{if(t===s){const n=e-o[t];return e-(e-a[t])%n}return t<s||-1===s?e:a[t]});return r()(l)}(n,s);const u=n.valueOf();for(c=l.clone();c.valueOf()<u;)c.add(s);for(;c.valueOf()>u;)c.subtract(s);let d;const p=i.valueOf();for(d=l.clone();d.valueOf()>p;)d.subtract(s);for(;d.valueOf()<p;)d.add(s);const h=null!=t?[c,c.clone().add(s)]:[c,d],f=e.every(e=>null===e);return{start:parseInt(c.format("x"),10),end:parseInt(d.format("x"),10),getStep:o.bind(this,s),values:h.map(e=>parseInt(e.format("x"),10)),disabled:f}}},930:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(1),r=n.n(i),a=n(0),o=n.n(a),s=n(921),l=n(989),c=n.n(l),u=n(874),d=n(990),p=n.n(d);n(992),n(951);function h(e){return r.a.createElement("span",{className:"BootstrapSliderWrapper"},r.a.createElement(p.a,e))}n(953);const f={start:o.a.number.isRequired,step:o.a.number.isRequired,end:o.a.number.isRequired,values:o.a.array.isRequired,onChange:o.a.func,loopDuration:o.a.number,maxFrames:o.a.number,orientation:o.a.oneOf(["horizontal","vertical"]),reversed:o.a.bool,disabled:o.a.bool,range:o.a.bool};class m extends r.a.PureComponent{constructor(e){super(e),this.state={intervalId:null};const t=e.end-e.start,n=Math.min(e.maxFrames,t/e.step),i=t/n;this.intervalMilliseconds=e.loopDuration/n,this.increment=i<e.step?e.step:i-i%e.step,this.onChange=this.onChange.bind(this),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.stepBackward=this.stepBackward.bind(this),this.stepForward=this.stepForward.bind(this),this.getPlayClass=this.getPlayClass.bind(this),this.formatter=this.formatter.bind(this)}componentDidMount(){c.a.bind(["space"],this.play)}componentWillUnmount(){c.a.unbind(["space"])}onChange(e){this.props.onChange(e.target.value),null!=this.state.intervalId&&this.pause()}getPlayClass(){return null==this.state.intervalId?"fa fa-play fa-lg slider-button":"fa fa-pause fa-lg slider-button"}play(){if(!this.props.disabled)if(null!=this.state.intervalId)this.pause();else{const e=setInterval(this.stepForward,this.intervalMilliseconds);this.setState({intervalId:e})}}pause(){clearInterval(this.state.intervalId),this.setState({intervalId:null})}stepForward(){const{start:e,end:t,step:n,values:i,disabled:r}=this.props;if(r)return;const a=(Array.isArray(i)?i:[i,i+n]).map(e=>e+this.increment),o=a[1]>t?a[0]-e:0;this.props.onChange(a.map(e=>e-o))}stepBackward(){const{start:e,end:t,step:n,values:i,disabled:r}=this.props;if(r)return;const a=(Array.isArray(i)?i:[i,i+n]).map(e=>e-this.increment),o=a[0]<e?t-a[1]:0;this.props.onChange(a.map(e=>e+o))}formatter(e){if(this.props.disabled)return Object(u.b)("Data has no time steps");let t=e;return Array.isArray(e)?e[0]===e[1]&&(t=[e[0]]):t=[e],t.map(e=>new Date(e).toUTCString()).join(" : ")}render(){const{start:e,end:t,step:n,orientation:i,reversed:a,disabled:o,range:s,values:l}=this.props;return r.a.createElement("div",{className:"play-slider"},r.a.createElement("div",{className:"play-slider-controls padded"},r.a.createElement("i",{className:"fa fa-step-backward fa-lg slider-button ",onClick:this.stepBackward}),r.a.createElement("i",{className:this.getPlayClass(),onClick:this.play}),r.a.createElement("i",{className:"fa fa-step-forward fa-lg slider-button ",onClick:this.stepForward})),r.a.createElement("div",{className:"play-slider-scrobbler padded"},r.a.createElement(h,{value:s?l:l[0],range:s,formatter:this.formatter,change:this.onChange,min:e,max:t,step:n,orientation:i,reversed:a,disabled:o?"disabled":"enabled"})))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.propTypes=f,m.defaultProps={onChange:()=>{},loopDuration:15e3,maxFrames:100,orientation:"horizontal",reversed:!1,disabled:!1,range:!0};const b={getLayers:o.a.func.isRequired,start:o.a.number.isRequired,end:o.a.number.isRequired,getStep:o.a.func,values:o.a.array.isRequired,aggregation:o.a.bool,disabled:o.a.bool,viewport:o.a.object.isRequired,children:o.a.node,mapStyle:o.a.string,mapboxApiAccessToken:o.a.string.isRequired,setControlValue:o.a.func,onValuesChange:o.a.func,width:o.a.number.isRequired,height:o.a.number.isRequired};class v extends r.a.PureComponent{constructor(...e){super(...e),g(this,"containerRef",r.a.createRef()),g(this,"setTooltip",e=>{const{current:t}=this.containerRef;t&&t.setTooltip(e)})}render(){const{start:e,end:t,getStep:n,disabled:i,aggregation:a,children:o,getLayers:l,values:c,onValuesChange:u,viewport:d,setControlValue:p,mapStyle:h,mapboxApiAccessToken:f,height:g,width:b}=this.props,v=l(c);return r.a.createElement("div",null,r.a.createElement(s.a,{ref:this.containerRef,viewport:d,layers:v,setControlValue:p,mapStyle:h,mapboxApiAccessToken:f,bottomMargin:i?0:20,width:b,height:g}),!i&&r.a.createElement(m,{start:e,end:t,step:n(e),values:c,range:!a,onChange:u}),o)}}v.propTypes=b,v.defaultProps={aggregation:!1,disabled:!1,mapStyle:"light",setControlValue:()=>{},onValuesChange:()=>{}}},937:function(e,t,n){var i=n(436),r=n(938);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a);e.exports=r.locals||{}},938:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.deckgl-tooltip > div {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n',""]),e.exports=t},940:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}r.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},941:function(e,t,n){"use strict";var i,r=n(922),a=n(940),o=n(910),s=function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},l={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.a,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Object(o.b)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},c=function(e){return e},u=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=u.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,a=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",p=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(u.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"-":e.minus+"",b=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=Object(a.a)(e)).fill,n=e.align,r=e.sign,c=e.symbol,u=e.zero,v=e.width,y=e.comma,w=e.precision,S=e.trim,_=e.type;"n"===_?(y=!0,_="g"):l[_]||(void 0===w&&(w=12),S=!0,_="g"),(u||"0"===t&&"="===n)&&(u=!0,t="0",n="=");var x="$"===c?s:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E="$"===c?p:/[%p]/.test(_)?m:"",I=l[_],O=/[defgprs%]/.test(_);function N(e){var a,s,l,c=x,p=E;if("c"===_)p=I(e)+p,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?b:I(Math.abs(e),w),S&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),m&&0==+e&&"+"!==r&&(m=!1),c=(m?"("===r?r:g:"-"===r||"("===r?"":r)+c,p=("s"===_?d[8+i/3]:"")+p+(m&&"("===r?")":""),O)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){p=(46===l?h+e.slice(a+1):e.slice(a))+p,e=e.slice(0,a);break}}y&&!u&&(e=o(e,1/0));var N=c.length+e.length+p.length,A=N<v?new Array(v-N+1).join(t):"";switch(y&&u&&(e=o(A+e,A.length?v-p.length:1/0),A=""),n){case"<":e=c+e+p+A;break;case"=":e=c+A+e+p;break;case"^":e=A.slice(0,N=A.length>>1)+c+e+p+A.slice(N);break;default:e=A+c+e+p}return f(e)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),N.toString=function(){return e+""},N}return{format:v,formatPrefix:function(e,t){var n=v(((e=Object(a.a)(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3))),o=Math.pow(10,-i),s=d[8+i/3];return function(e){return n(o*e)+s}}}}},951:function(e,t,n){var i=n(436),r=n(952);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a);e.exports=r.locals||{}},952:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.BootstrapSliderWrapper .slider-selection {\n  background: #efefef;\n}\n\n.BootstrapSliderWrapper .slider-handle {\n  background: #b3b3b3;\n}\n',""]),e.exports=t},953:function(e,t,n){var i=n(436),r=n(954);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a);e.exports=r.locals||{}},954:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.play-slider {\n  display: flex;\n  height: 40px;\n  width: 100%;\n  margin: 0;\n}\n\n.play-slider-controls {\n  flex: 0 0 80px;\n  text-align: middle;\n}\n\n.play-slider-scrobbler {\n  flex: 1 1;\n}\n\n.slider.slider-horizontal {\n  width: 100% !important;\n}\n\n.slider-button {\n  color: #b3b3b3;\n  margin-right: 5px;\n}\n\ndiv.slider > div.tooltip.tooltip-main.top.in {\n  margin-left: 0 !important;\n}\n',""]),e.exports=t},969:function(e,t){},993:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i,r,a,o,s=n(941);o={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"},i=Object(s.a)(o),r=i.format,a=i.formatPrefix},999:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n(105),r=n(872),a=n(36),o=n(993),s=n(941),l=n(882),c=n(884);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends c.a{constructor(e){super(e=>this.format(e)),u(this,"id",void 0),u(this,"label",void 0),u(this,"description",void 0),u(this,"formatFunc",void 0),u(this,"isInvalid",void 0);const{id:t=Object(l.a)("config.id"),label:n,description:i="",formatFunc:r=Object(l.a)("config.formatFunc"),isInvalid:a=!1}=e;this.id=t,this.label=null!=n?n:t,this.description=i,this.formatFunc=r,this.isInvalid=a}format(e){return null==e||Number.isNaN(e)?""+e:e===Number.POSITIVE_INFINITY?"∞":e===Number.NEGATIVE_INFINITY?"-∞":this.formatFunc(e)}preview(e=12345.432){return e+" => "+this.format(e)}}var p=d;var h={DOLLAR:"$,.2f",DOLLAR_ROUND:"$,d",DOLLAR_ROUND_SIGNED:"+$,d",DOLLAR_SIGNED:"+$,.2f",FLOAT:",.2f",FLOAT_1_POINT:",.1f",FLOAT_2_POINT:",.2f",FLOAT_3_POINT:",.3f",FLOAT_SIGNED:"+,.2f",FLOAT_SIGNED_1_POINT:"+,.1f",FLOAT_SIGNED_2_POINT:"+,.2f",FLOAT_SIGNED_3_POINT:"+,.3f",INTEGER:",d",INTEGER_SIGNED:"+,d",PERCENT:",.2%",PERCENT_1_POINT:",.1%",PERCENT_2_POINT:",.2%",PERCENT_3_POINT:",.3%",PERCENT_SIGNED:"+,.2%",PERCENT_SIGNED_1_POINT:"+,.1%",PERCENT_SIGNED_2_POINT:"+,.2%",PERCENT_SIGNED_3_POINT:"+,.3%",SI:".3s",SI_1_DIGIT:".1s",SI_2_DIGIT:".2s",SI_3_DIGIT:".3s",SMART_NUMBER:"SMART_NUMBER",SMART_NUMBER_SIGNED:"SMART_NUMBER_SIGNED"};const f=Object(o.a)(".3~s"),m=Object(o.a)(".2~f"),g=Object(o.a)(".4~f");function b(e={}){const{description:t,signed:n=!1,id:i,label:r}=e,a=n?e=>e>0?"+":"":()=>"";return new p({description:t,formatFunc:e=>""+a(e)+function(e){if(0===e)return"0";const t=Math.abs(e);return t>=1e3?f(e).replace("G","B"):t>=1?m(e):t>=.001?g(e):t>1e-6?f(1e6*e)+"µ":f(e)}(e),id:i||n?h.SMART_NUMBER_SIGNED:h.SMART_NUMBER,label:null!=r?r:"Adaptive formatter"})}class v extends r.a{constructor(){super({name:"NumberFormatter",overwritePolicy:a.a.WARN}),this.registerValue(h.SMART_NUMBER,b()),this.registerValue(h.SMART_NUMBER_SIGNED,b({signed:!0})),this.setDefaultKey(h.SMART_NUMBER)}get(e){const t=(""+(null==e||""===e?this.defaultKey:e)).trim();if(this.has(t))return super.get(t);const n=function(e){const{description:t,formatString:n=Object(l.a)("config.formatString"),label:i,locale:r}=e;let a,c=!1;try{a=void 0===r?Object(o.a)(n):Object(s.a)(r).format(n)}catch(e){a=e=>e+" (Invalid format: "+n+")",c=!0}return new p({description:t,formatFunc:a,id:n,isInvalid:c,label:i})}({formatString:t});return this.registerValue(t,n),n}format(e,t){return this.get(e)(t)}}const y=Object(i.a)(v);function w(e,t){return y().format(e,t)}}}]);