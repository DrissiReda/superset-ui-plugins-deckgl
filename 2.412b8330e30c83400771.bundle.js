(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{905:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(965),a=n.n(i),r=n(973),s=n(902),o=n(916);const l={console:console,_:r.a,colors:o,d3array:s};function c(e,t,n){const i={},r="SAFE_EVAL_"+Math.floor(1e6*Math.random());i[r]={};const s=r+"="+e,o={...l,...t};Object.keys(o).forEach(e=>{i[e]=o[e]});try{return a.a.runInNewContext(s,i,n),i[r]}catch(e){return()=>e}}},913:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(902),a=n(905);function r(e,t,n,i){const r=e;let s,o,l=n;return r.js_tooltip&&(l=Object(a.a)(r.js_tooltip)),l&&(s=e=>{e.picked?t({content:l(e),x:e.x,y:e.y}):t(null)}),r.js_onclick_href?o=e=>{const t=Object(a.a)(r.js_onclick_href)(e);window.open(t)}:r.table_filter&&void 0!==i&&(o=e=>i(e.object[r.line_column])),{onClick:o,onHover:s,pickable:Boolean(s)}}const s={p1:.01,p5:.05,p95:.95,p99:.99};function o(e="sum",t=null){if("count"===e)return e=>e.length;let n;return n=e in s?(n,a)=>{let r;return r=t?n.sort((e,n)=>i.ascending(t(e),t(n))):n.sort(i.ascending),i.quantile(r,s[e],a)}:i[e],t?e=>n(e.map(e=>t(e))):e=>n(e)}},915:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),a=n.n(i),r=n(0),s=n.n(r);const o={label:s.a.string.isRequired,value:s.a.string.isRequired};class l extends a.a.PureComponent{render(){const{label:e,value:t}=this.props;return a.a.createElement("div",null,e,a.a.createElement("strong",null,t))}}l.propTypes=o},916:function(e,t,n){"use strict";n.r(t),n.d(t,"hexToRGB",(function(){return a}));var i=n(17);function a(e,t=255){if(!e)return[0,0,0,t];const{r:n,g:a,b:r}=Object(i.g)(e);return[n,a,r,t]}},919:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(998),a=n(902);const r=[-90,90],s=[-180,180];function o([e,t],[n,i],a=.25){return e<t?[e,t]:[Math.max(n,e-a),Math.min(i,t+a)]}function l(e,{points:t,width:n,height:l,minExtent:c,maxZoom:u,offset:d,padding:p=20}){const{bearing:h,pitch:f}=e,m=function(e){const t=o(Object(a.extent)(e,e=>e[1]),r),n=o(Object(a.extent)(e,e=>e[0]),s);return[[n[0],t[0]],[n[1],t[1]]]}(t);try{return{...Object(i.a)({bounds:m,width:n,height:l,minExtent:c,maxZoom:u,offset:d,padding:p}),bearing:h,pitch:f}}catch(e){console.error("Could not fit viewport",e)}return e}},921:function(e,t,n){"use strict";var i=n(1),a=n.n(i),r=n(0),s=n.n(r),o=n(974),l=n(1249),c=n(1245),u=n(966);function d(e){const{tooltip:t}=e;if(null==t)return null;const{x:n,y:r,content:s}=t,o=Object(i.useMemo)(()=>({position:"absolute",top:r+"px",left:n+"px",padding:"8px",margin:"8px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",maxWidth:"300px",fontSize:"12px",zIndex:9,pointerEvents:"none"}),[n,r]);if("string"==typeof s){const e=Object(i.useMemo)(()=>({__html:Object(u.filterXSS)(s,{stripIgnoreTag:!0})}),[s]);return a.a.createElement("div",{style:o},a.a.createElement("div",{dangerouslySetInnerHTML:e}))}return a.a.createElement("div",{style:o},s)}n(967),n(937);function p(){const e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n  .deckgl-tooltip > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);return p=function(){return e},e}const h={viewport:s.a.object.isRequired,layers:s.a.array.isRequired,setControlValue:s.a.func,mapStyle:s.a.string,mapboxApiAccessToken:s.a.string.isRequired,children:s.a.node,bottomMargin:s.a.number,width:s.a.number.isRequired,height:s.a.number.isRequired};class f extends a.a.Component{constructor(e){var t,n,i;super(e),i=e=>{this.setState({tooltip:e})},(n="setTooltip")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.tick=this.tick.bind(this),this.onViewStateChange=this.onViewStateChange.bind(this),this.state={timer:setInterval(this.tick,250),tooltip:null,viewState:e.viewport}}componentWillUnmount(){clearInterval(this.state.timer)}onViewStateChange({viewState:e}){this.setState({viewState:e,lastUpdate:Date.now()})}tick(){const{lastUpdate:e}=this.state;if(e&&Date.now()-e>250){const e=this.props.setControlValue;e&&e("viewport",this.state.viewState),this.setState({lastUpdate:null})}}layers(){return this.props.layers.some(e=>"function"==typeof e)?this.props.layers.map(e=>"function"==typeof e?e():e):this.props.layers}render(){const{children:e,bottomMargin:t,height:n,width:i}=this.props,{viewState:r,tooltip:s}=this.state,c=n-t,u=this.layers();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{position:"relative",width:i,height:c}},a.a.createElement(l.a,{initWebGLParameters:!0,controller:!0,width:i,height:c,layers:u,viewState:r,onViewStateChange:this.onViewStateChange},a.a.createElement(o.a,{mapStyle:this.props.mapStyle,mapboxApiAccessToken:this.props.mapboxApiAccessToken})),e),a.a.createElement(d,{tooltip:s}))}}f.propTypes=h,f.defaultProps={mapStyle:"light",setControlValue:()=>{},children:null,bottomMargin:0};t.a=Object(c.a)(f)(p())},928:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(994),a=n.n(i);const r=[1,0,1,0,0,0,0];function s(e,t){const n=parseInt(a()(t).format("x"),10);return parseInt(a()(t).add(e).format("x"),10)-n}function o(e,t){const n=a()(Math.min(...e)),i=a()(Math.max(...e));let o,l,c;if(t.includes("/")){const e=t.split("/",2);e[0].endsWith("Z")?(l=a()(e[0]),o=a.a.duration(e[1])):(l=a()(e[1]),o=a.a.duration(e[0]))}else o=a.a.duration(t),l=function(e,t){const n=a()(e).subtract(t),i=e.toArray(),s=n.toArray(),o=i.map((e,t)=>s[t]!==e).indexOf(!0),l=i.map((e,t)=>{if(t===o){const n=e-s[t];return e-(e-r[t])%n}return t<o||-1===o?e:r[t]});return a()(l)}(n,o);const u=n.valueOf();for(c=l.clone();c.valueOf()<u;)c.add(o);for(;c.valueOf()>u;)c.subtract(o);let d;const p=i.valueOf();for(d=l.clone();d.valueOf()>p;)d.subtract(o);for(;d.valueOf()<p;)d.add(o);const h=null!=t?[c,c.clone().add(o)]:[c,d],f=e.every(e=>null===e);return{start:parseInt(c.format("x"),10),end:parseInt(d.format("x"),10),getStep:s.bind(this,o),values:h.map(e=>parseInt(e.format("x"),10)),disabled:f}}},930:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n(1),a=n.n(i),r=n(0),s=n.n(r),o=n(921),l=n(989),c=n.n(l),u=n(874),d=n(990),p=n.n(d);n(992),n(951);function h(e){return a.a.createElement("span",{className:"BootstrapSliderWrapper"},a.a.createElement(p.a,e))}n(953);const f={start:s.a.number.isRequired,step:s.a.number.isRequired,end:s.a.number.isRequired,values:s.a.array.isRequired,onChange:s.a.func,loopDuration:s.a.number,maxFrames:s.a.number,orientation:s.a.oneOf(["horizontal","vertical"]),reversed:s.a.bool,disabled:s.a.bool,range:s.a.bool};class m extends a.a.PureComponent{constructor(e){super(e),this.state={intervalId:null};const t=e.end-e.start,n=Math.min(e.maxFrames,t/e.step),i=t/n;this.intervalMilliseconds=e.loopDuration/n,this.increment=i<e.step?e.step:i-i%e.step,this.onChange=this.onChange.bind(this),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.stepBackward=this.stepBackward.bind(this),this.stepForward=this.stepForward.bind(this),this.getPlayClass=this.getPlayClass.bind(this),this.formatter=this.formatter.bind(this)}componentDidMount(){c.a.bind(["space"],this.play)}componentWillUnmount(){c.a.unbind(["space"])}onChange(e){this.props.onChange(e.target.value),null!=this.state.intervalId&&this.pause()}getPlayClass(){return null==this.state.intervalId?"fa fa-play fa-lg slider-button":"fa fa-pause fa-lg slider-button"}play(){if(!this.props.disabled)if(null!=this.state.intervalId)this.pause();else{const e=setInterval(this.stepForward,this.intervalMilliseconds);this.setState({intervalId:e})}}pause(){clearInterval(this.state.intervalId),this.setState({intervalId:null})}stepForward(){const{start:e,end:t,step:n,values:i,disabled:a}=this.props;if(a)return;const r=(Array.isArray(i)?i:[i,i+n]).map(e=>e+this.increment),s=r[1]>t?r[0]-e:0;this.props.onChange(r.map(e=>e-s))}stepBackward(){const{start:e,end:t,step:n,values:i,disabled:a}=this.props;if(a)return;const r=(Array.isArray(i)?i:[i,i+n]).map(e=>e-this.increment),s=r[0]<e?t-r[1]:0;this.props.onChange(r.map(e=>e+s))}formatter(e){if(this.props.disabled)return Object(u.b)("Data has no time steps");let t=e;return Array.isArray(e)?e[0]===e[1]&&(t=[e[0]]):t=[e],t.map(e=>new Date(e).toUTCString()).join(" : ")}render(){const{start:e,end:t,step:n,orientation:i,reversed:r,disabled:s,range:o,values:l}=this.props;return a.a.createElement("div",{className:"play-slider"},a.a.createElement("div",{className:"play-slider-controls padded"},a.a.createElement("i",{className:"fa fa-step-backward fa-lg slider-button ",onClick:this.stepBackward}),a.a.createElement("i",{className:this.getPlayClass(),onClick:this.play}),a.a.createElement("i",{className:"fa fa-step-forward fa-lg slider-button ",onClick:this.stepForward})),a.a.createElement("div",{className:"play-slider-scrobbler padded"},a.a.createElement(h,{value:o?l:l[0],range:o,formatter:this.formatter,change:this.onChange,min:e,max:t,step:n,orientation:i,reversed:r,disabled:s?"disabled":"enabled"})))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.propTypes=f,m.defaultProps={onChange:()=>{},loopDuration:15e3,maxFrames:100,orientation:"horizontal",reversed:!1,disabled:!1,range:!0};const b={getLayers:s.a.func.isRequired,start:s.a.number.isRequired,end:s.a.number.isRequired,getStep:s.a.func,values:s.a.array.isRequired,aggregation:s.a.bool,disabled:s.a.bool,viewport:s.a.object.isRequired,children:s.a.node,mapStyle:s.a.string,mapboxApiAccessToken:s.a.string.isRequired,setControlValue:s.a.func,onValuesChange:s.a.func,width:s.a.number.isRequired,height:s.a.number.isRequired};class w extends a.a.PureComponent{constructor(...e){super(...e),g(this,"containerRef",a.a.createRef()),g(this,"setTooltip",e=>{const{current:t}=this.containerRef;t&&t.setTooltip(e)})}render(){const{start:e,end:t,getStep:n,disabled:i,aggregation:r,children:s,getLayers:l,values:c,onValuesChange:u,viewport:d,setControlValue:p,mapStyle:h,mapboxApiAccessToken:f,height:g,width:b}=this.props,w=l(c);return a.a.createElement("div",null,a.a.createElement(o.a,{ref:this.containerRef,viewport:d,layers:w,setControlValue:p,mapStyle:h,mapboxApiAccessToken:f,bottomMargin:i?0:20,width:b,height:g}),!i&&a.a.createElement(m,{start:e,end:t,step:n(e),values:c,range:!r,onChange:u}),s)}}w.propTypes=b,w.defaultProps={aggregation:!1,disabled:!1,mapStyle:"light",setControlValue:()=>{},onValuesChange:()=>{}}},937:function(e,t,n){var i=n(436),a=n(938);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},938:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.deckgl-tooltip > div {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n',""]),e.exports=t},951:function(e,t,n){var i=n(436),a=n(952);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},952:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.BootstrapSliderWrapper .slider-selection {\n  background: #efefef;\n}\n\n.BootstrapSliderWrapper .slider-handle {\n  background: #b3b3b3;\n}\n',""]),e.exports=t},953:function(e,t,n){var i=n(436),a=n(954);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};i(a,r);e.exports=a.locals||{}},954:function(e,t,n){(t=n(437)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.play-slider {\n  display: flex;\n  height: 40px;\n  width: 100%;\n  margin: 0;\n}\n\n.play-slider-controls {\n  flex: 0 0 80px;\n  text-align: middle;\n}\n\n.play-slider-scrobbler {\n  flex: 1 1;\n}\n\n.slider.slider-horizontal {\n  width: 100% !important;\n}\n\n.slider-button {\n  color: #b3b3b3;\n  margin-right: 5px;\n}\n\ndiv.slider > div.tooltip.tooltip-main.top.in {\n  margin-left: 0 !important;\n}\n',""]),e.exports=t},969:function(e,t){}}]);